[gd_scene load_steps=14 format=3 uid="uid://cq033snjttsln"]

[ext_resource type="PackedScene" uid="uid://bsgwkv72xs4ab" path="res://scenes/game_objects/entities/player.tscn" id="1_pg7by"]
[ext_resource type="PackedScene" uid="uid://dt10brylt3oba" path="res://scenes/game_objects/entities/box_rigid_body.tscn" id="2_sk2pa"]
[ext_resource type="Script" path="res://scripts/Managers/Game.cs" id="3_kgmyc"]
[ext_resource type="Script" path="res://scripts/Managers/InputManager.cs" id="4_v4sqv"]
[ext_resource type="Resource" uid="uid://yf2osyn4pvt3" path="res://resources/player_input.tres" id="5_7vw28"]
[ext_resource type="Script" path="res://scripts/Managers/PlayerUIManager.cs" id="6_hgfp5"]

[sub_resource type="BoxShape3D" id="BoxShape3D_iel3a"]
size = Vector3(40, 1, 40)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bfwmb"]
albedo_color = Color(0.333333, 0.333333, 0.333333, 1)

[sub_resource type="BoxMesh" id="BoxMesh_8vimq"]
material = SubResource("StandardMaterial3D_bfwmb")
size = Vector3(40, 1, 40)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_lvnil"]

[sub_resource type="Sky" id="Sky_ym2uw"]
sky_material = SubResource("ProceduralSkyMaterial_lvnil")

[sub_resource type="Environment" id="Environment_vnavc"]
background_mode = 2
sky = SubResource("Sky_ym2uw")
volumetric_fog_density = 0.0
volumetric_fog_emission = Color(0.619608, 0.568627, 0.368627, 1)
volumetric_fog_sky_affect = 0.165
adjustment_saturation = 1.02

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_5g04v"]
exposure_multiplier = 1.601
dof_blur_far_distance = 100.0

[node name="Root" type="Node3D"]

[node name="Map" type="Node3D" parent="."]

[node name="Floor" type="StaticBody3D" parent="Map"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Floor"]
shape = SubResource("BoxShape3D_iel3a")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Map/Floor"]
mesh = SubResource("BoxMesh_8vimq")

[node name="Wall1" type="StaticBody3D" parent="Map"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 20, -20)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Wall1"]
shape = SubResource("BoxShape3D_iel3a")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Map/Wall1"]
mesh = SubResource("BoxMesh_8vimq")

[node name="Wall2" type="StaticBody3D" parent="Map"]
transform = Transform3D(-4.37114e-08, 1, -4.37114e-08, 0, -4.37114e-08, -1, -1, -4.37114e-08, 1.91069e-15, -20, 20, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Wall2"]
shape = SubResource("BoxShape3D_iel3a")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Map/Wall2"]
mesh = SubResource("BoxMesh_8vimq")

[node name="Wall3" type="StaticBody3D" parent="Map"]
transform = Transform3D(-1, -8.74228e-08, 3.82137e-15, 0, -4.37114e-08, -1, 8.74228e-08, -1, 4.37114e-08, 0, 20, 20)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Wall3"]
shape = SubResource("BoxShape3D_iel3a")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Map/Wall3"]
mesh = SubResource("BoxMesh_8vimq")

[node name="Player" parent="." node_paths=PackedStringArray("_ui") instance=ExtResource("1_pg7by")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 6.52908, 0)
_ui = NodePath("../PlayerUI")

[node name="RigidBody" parent="." instance=ExtResource("2_sk2pa")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.61331, 4.01117, 0)

[node name="Game" type="Node" parent="."]
script = ExtResource("3_kgmyc")

[node name="InputManager" type="Node" parent="."]
script = ExtResource("4_v4sqv")
_input = ExtResource("5_7vw28")
_update = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_vnavc")
camera_attributes = SubResource("CameraAttributesPractical_5g04v")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.895841, -0.132147, -0.424271, 0.284018, -0.564027, 0.775376, -0.341764, -0.815114, -0.467746, 0, 22.7694, 0)

[node name="PlayerUI" type="CanvasLayer" parent="." node_paths=PackedStringArray("_staminaBars", "_w", "_a", "_s", "_d", "_shift", "_lctrl", "_space")]
script = ExtResource("6_hgfp5")
_staminaBars = [NodePath("Grid/GridContainer/ProgressBar"), NodePath("Grid/GridContainer/ProgressBar2"), NodePath("Grid/GridContainer/ProgressBar3")]
_w = NodePath("Keystrokes/W")
_a = NodePath("Keystrokes/A")
_s = NodePath("Keystrokes/S")
_d = NodePath("Keystrokes/D")
_shift = NodePath("Keystrokes/Shift")
_lctrl = NodePath("Keystrokes/LCTRL")
_space = NodePath("Keystrokes/Space")

[node name="Keystrokes" type="ColorRect" parent="PlayerUI"]
visible = false
offset_right = 286.0
offset_bottom = 411.0
color = Color(0, 0, 0, 0.243137)

[node name="W" type="ColorRect" parent="PlayerUI/Keystrokes"]
layout_mode = 0
offset_left = 106.0
offset_top = 25.0
offset_right = 173.0
offset_bottom = 92.0

[node name="Label" type="Label" parent="PlayerUI/Keystrokes/W"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
text = "W"
horizontal_alignment = 1
vertical_alignment = 1

[node name="A" type="ColorRect" parent="PlayerUI/Keystrokes"]
layout_mode = 0
offset_left = 27.0
offset_top = 99.0
offset_right = 94.0
offset_bottom = 166.0

[node name="Label" type="Label" parent="PlayerUI/Keystrokes/A"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
text = "A"
horizontal_alignment = 1
vertical_alignment = 1

[node name="S" type="ColorRect" parent="PlayerUI/Keystrokes"]
layout_mode = 0
offset_left = 105.0
offset_top = 100.0
offset_right = 172.0
offset_bottom = 167.0

[node name="Label" type="Label" parent="PlayerUI/Keystrokes/S"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
text = "S
"
horizontal_alignment = 1
vertical_alignment = 1

[node name="D" type="ColorRect" parent="PlayerUI/Keystrokes"]
layout_mode = 0
offset_left = 187.0
offset_top = 101.0
offset_right = 254.0
offset_bottom = 168.0

[node name="Label" type="Label" parent="PlayerUI/Keystrokes/D"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
text = "D"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Shift" type="ColorRect" parent="PlayerUI/Keystrokes"]
layout_mode = 0
offset_left = 28.0
offset_top = 179.0
offset_right = 254.0
offset_bottom = 242.0

[node name="Label" type="Label" parent="PlayerUI/Keystrokes/Shift"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
text = "Shift
"
horizontal_alignment = 1
vertical_alignment = 1

[node name="LCTRL" type="ColorRect" parent="PlayerUI/Keystrokes"]
layout_mode = 0
offset_left = 28.0
offset_top = 254.0
offset_right = 254.0
offset_bottom = 317.0

[node name="Label" type="Label" parent="PlayerUI/Keystrokes/LCTRL"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
text = "LCTRL"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Space" type="ColorRect" parent="PlayerUI/Keystrokes"]
layout_mode = 0
offset_left = 28.0
offset_top = 330.0
offset_right = 254.0
offset_bottom = 393.0

[node name="Label" type="Label" parent="PlayerUI/Keystrokes/Space"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
text = "Space"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Grid" type="ColorRect" parent="PlayerUI"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -184.0
offset_right = 480.0
grow_vertical = 0
color = Color(0, 0, 0, 0.243137)

[node name="GridContainer" type="GridContainer" parent="PlayerUI/Grid"]
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -52.0
grow_horizontal = 2
grow_vertical = 0
columns = 3

[node name="ProgressBar" type="ProgressBar" parent="PlayerUI/Grid/GridContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
max_value = 1.0
value = 0.42

[node name="ProgressBar2" type="ProgressBar" parent="PlayerUI/Grid/GridContainer"]
layout_mode = 2
size_flags_horizontal = 7
size_flags_vertical = 3
max_value = 1.0

[node name="ProgressBar3" type="ProgressBar" parent="PlayerUI/Grid/GridContainer"]
layout_mode = 2
size_flags_horizontal = 7
size_flags_vertical = 3
max_value = 1.0
